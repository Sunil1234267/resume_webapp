import{r,j as e,b as T,q as d,d as t,e as N}from"./index-JbYZYgO8.js";import{C as I,a as D,b as $,d as q,c as F}from"./card-6iTzUosL.js";import{u as R,L as u,I as w,a as B}from"./use-toast-B2JmsYrO.js";import{C as P}from"./circle-check-big-B8LnxC-J.js";const y=r.forwardRef(({className:m,...l},c)=>e.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",m),ref:c,...l}));y.displayName="Textarea";const G=()=>{const{toast:m}=R(),[l,c]=r.useState(""),[p,x]=r.useState(""),[g,f]=r.useState(""),[j,b]=r.useState(!1),[v,i]=r.useState(null),C=[{icon:d.phone,label:"Phone",value:t.personal.contact.phone,href:`tel:${t.personal.contact.phone}`},{icon:d.email,label:"Email",value:t.personal.contact.email,href:`mailto:${t.personal.contact.email}`},{icon:d.location,label:"Location",value:t.personal.contact.location},{icon:d.linkedin,label:"LinkedIn",value:"Connect with me",href:t.personal.social.linkedin}].filter(a=>a.value),k=async a=>{a.preventDefault(),b(!0),i(null);const h="https://n8n.sunilkhatri.info/webhook/contact-details",S="Basic "+btoa("n8n-sunil-contact:n8n-sunil-contact"),M=new URLSearchParams({Name:l,Email:p,Message:g}),E=`${h}?${M.toString()}`;try{const n=await fetch(E,{method:"GET",headers:{Authorization:S}}),o=await n.text();let s="";if(!n.ok){try{s=JSON.parse(o).message||o}catch{s=o||"Network response was not ok"}throw new Error(s)}try{s=JSON.parse(o).message||"Thanks for reaching out. I'll get back to you soon."}catch{s=o||"Thanks for reaching out. I'll get back to you soon."}i(s),c(""),x(""),f("")}catch(n){i(null),m({title:"Uh oh! Something went wrong.",description:n instanceof Error?n.message:"There was a problem with your request. Please try again.",variant:"destructive",duration:3e3})}finally{b(!1)}};return e.jsxs("section",{className:"section-container animate-fade-in",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{className:"page-header-title",children:"Contact Me"}),e.jsx("p",{className:"page-header-description",children:"I'm available for freelance work, collaborations, or a friendly chat. Let's connect!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsx("div",{className:"space-y-6",children:C.map((a,h)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-muted p-3 rounded-lg",children:e.jsx(a.icon,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.label}),a.href?e.jsx("a",{href:a.href,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:a.value}):e.jsx("p",{className:"text-muted-foreground",children:a.value})]})]},h))}),e.jsxs(I,{children:[e.jsxs(D,{children:[e.jsx($,{children:"Send a Message"}),e.jsx(q,{children:"I'll get back to you as soon as possible."})]}),e.jsx(F,{children:v?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[280px] text-center p-4",children:[e.jsx(P,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:v}),e.jsx(N,{onClick:()=>i(null),children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"name",children:"Name"}),e.jsx(w,{id:"name",placeholder:"Your Name",value:l,onChange:a=>c(a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",placeholder:"your.email@example.com",value:p,onChange:a=>x(a.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"message",children:"Message"}),e.jsx(y,{id:"message",placeholder:"Your message...",rows:5,value:g,onChange:a=>f(a.target.value),required:!0})]}),e.jsx(N,{type:"submit",className:"w-full",disabled:j,children:j?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Message"})]})})]})]})]})};export{G as default};
